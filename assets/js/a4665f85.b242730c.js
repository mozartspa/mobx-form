(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[804],{3905:function(e,t,a){"use strict";a.d(t,{Zo:function(){return d},kt:function(){return h}});var n=a(7294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=u(a),h=l,m=c["".concat(s,".").concat(h)]||c[h]||p[h]||r;return a?n.createElement(m,i(i({ref:t},d),{},{components:a})):n.createElement(m,i({ref:t},d))}));function h(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,i=new Array(r);i[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var u=2;u<r;u++)i[u]=a[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},2556:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return o},metadata:function(){return s},toc:function(){return u},default:function(){return p}});var n=a(2122),l=a(9756),r=(a(7294),a(3905)),i=["components"],o={sidebar_position:2},s={unversionedId:"api/useField",id:"api/useField",isDocsHomePage:!1,title:"useField",description:"Hook to easily manage a single field.",source:"@site/docs/api/useField.md",sourceDirName:"api",slug:"/api/useField",permalink:"/mobx-form/docs/api/useField",editUrl:"https://github.com/mozartspa/mobx-form/edit/master/website/docs/api/useField.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"useForm",permalink:"/mobx-form/docs/api/useForm"},next:{title:"useFieldArray",permalink:"/mobx-form/docs/api/useFieldArray"}},u=[{value:"Type",id:"type",children:[]},{value:"UseFieldOptions",id:"usefieldoptions",children:[{value:"form",id:"form",children:[]},{value:"format",id:"format",children:[]},{value:"parse",id:"parse",children:[]},{value:"parseOnBlur",id:"parseonblur",children:[]},{value:"validate",id:"validate",children:[]},{value:"validateDebounce",id:"validatedebounce",children:[]},{value:"validateOnChange",id:"validateonchange",children:[]},{value:"validateOnBlur",id:"validateonblur",children:[]},{value:"validateOnChangeFields",id:"validateonchangefields",children:[]}]},{value:"UseFieldResult",id:"usefieldresult",children:[{value:"input",id:"input",children:[]},{value:"name",id:"name",children:[]},{value:"value",id:"value",children:[]},{value:"isTouched",id:"istouched",children:[]},{value:"error",id:"error",children:[]},{value:"errors",id:"errors",children:[]},{value:"isValid",id:"isvalid",children:[]},{value:"isDirty",id:"isdirty",children:[]},{value:"isValidating",id:"isvalidating",children:[]},{value:"form",id:"form-1",children:[]},{value:"setValue",id:"setvalue",children:[]},{value:"setTouched",id:"settouched",children:[]},{value:"setError",id:"seterror",children:[]},{value:"addError",id:"adderror",children:[]},{value:"validate",id:"validate-1",children:[]}]}],d={toc:u};function p(e){var t=e.components,a=(0,l.Z)(e,i);return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Hook to easily manage a single field."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'import { useField } from "@mozartspa/mobx-form"\n')),(0,r.kt)("h2",{id:"type"},"Type"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function useField(name: string, options: UseFieldOptions = {}): UseFieldResult\n")),(0,r.kt)("h2",{id:"usefieldoptions"},"UseFieldOptions"),(0,r.kt)("p",null,"Configuration to pass to ",(0,r.kt)("inlineCode",{parentName:"p"},"useField()")),(0,r.kt)("h3",{id:"form"},"form"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"form?: Form<Values> | undefined\n")),(0,r.kt)("p",null,"The form instance this field should be bound to. If not specified, it will be used the form instance available in FormContext."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"format"},"format"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"format?: (value: T) => any\n")),(0,r.kt)("p",null,"A function that takes the value from the form values and formats the value to give to the input (that will be exposed by ",(0,r.kt)("inlineCode",{parentName:"p"},"UseFieldResult.input.value"),"). Common use cases include converting javascript Date values into a localized date string. Almost always used in conjunction with ",(0,r.kt)("a",{parentName:"p",href:"#parse"},"parse"),"."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"parse"},"parse"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"parse?: (value: any) => T\n")),(0,r.kt)("p",null,"A function that takes the value from the input and converts the value into the value you want stored as this field's value in the form. Common usecases include converting strings into Numbers or parsing localized dates into actual javascript Date objects. Almost always used in conjuction with ",(0,r.kt)("a",{parentName:"p",href:"#format"},"format"),"."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"parseonblur"},"parseOnBlur"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"parseOnBlur?: (value: any) => T\n")),(0,r.kt)("p",null,"The same as ",(0,r.kt)("a",{parentName:"p",href:"#parse"},"parse")," but it is called only when the field is blurred."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"validate"},"validate"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"validate?: (value: T, values: Values) => (string | string[] | undefined) | Promise<string | string[] | undefined>\n")),(0,r.kt)("p",null,"A function that receives the value of the field and the values of the form, and it should return a value of type ",(0,r.kt)("inlineCode",{parentName:"p"},"string | string[] | undefined"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"string")," in case of a single error message"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"string[]")," in case of multiple error messages"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"undefined")," means no error")),(0,r.kt)("p",null,"The function can be ",(0,r.kt)("em",{parentName:"p"},"async"),"."),(0,r.kt)("p",null,"In case it throws an error, the message of the error will be used as the error of the field."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"validatedebounce"},"validateDebounce"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"validateDebounce?: boolean | number | { wait?: number; leading?: boolean }\n")),(0,r.kt)("p",null,"Value that tells if validation debounce should be active and how:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"false"),": debounce will not be active (as per default)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"true"),": debounce will be active, with default values for ",(0,r.kt)("inlineCode",{parentName:"li"},"wait")," (300) and ",(0,r.kt)("inlineCode",{parentName:"li"},"leading")," (false)"),(0,r.kt)("li",{parentName:"ul"},"a ",(0,r.kt)("inlineCode",{parentName:"li"},"number"),": debounce will be active with ",(0,r.kt)("inlineCode",{parentName:"li"},"wait")," as the number you passed, and ",(0,r.kt)("inlineCode",{parentName:"li"},"leading")," false"),(0,r.kt)("li",{parentName:"ul"},"a ",(0,r.kt)("inlineCode",{parentName:"li"},"{ wait?: number; leading?: boolean }")," object: debounce will be active with the values you passed")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"validateonchange"},"validateOnChange"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"validateOnChange?: boolean\n")),(0,r.kt)("p",null,"Whether or not to validate the field every time the field's value changes. ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," by default."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"validateonblur"},"validateOnBlur"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"validateOnBlur?: boolean\n")),(0,r.kt)("p",null,"Whether or not to validate the field when the field is blurred. ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," by default."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"validateonchangefields"},"validateOnChangeFields"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"validateOnChangeFields?: string[]\n")),(0,r.kt)("p",null,"Array of field names that should trigger validation of this field whenever they change. If you pass a value that is ",(0,r.kt)("strong",{parentName:"p"},"not")," ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),", ",(0,r.kt)("a",{parentName:"p",href:"#validateonchange"},"validateOnChange")," is automatically considered ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," unless you set it to ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"usefieldresult"},"UseFieldResult"),(0,r.kt)("p",null,"It is returned by ",(0,r.kt)("inlineCode",{parentName:"p"},"useField()")," and represents the field instance that gives access to props and methods to easily manage the field."),(0,r.kt)("h3",{id:"input"},"input"),(0,r.kt)("p",null,"It's an object of type:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"{\n  name: string\n  readonly value: T\n  onBlur: (event: React.FocusEvent) => void\n  onChange: (event: React.ChangeEvent<any>) => void\n}\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"name")," is the name of the field."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"value")," is the current value of the field in the form values."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"onBlur")," is a function that, when called, informs the form instance that this field has been ",(0,r.kt)("em",{parentName:"li"},"touched"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"onChange"),"is a function that, when called, changes the value of the field extrapolating the new value from the ",(0,r.kt)("inlineCode",{parentName:"li"},"React.ChangeEvent")," event it receives.")),(0,r.kt)("p",null,"Usually, this ",(0,r.kt)("inlineCode",{parentName:"p"},"input")," object is ",(0,r.kt)("em",{parentName:"p"},"spread")," into the input element props:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'<input type="text" {...field.input} />\n')),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"name"},"name"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"name: string\n")),(0,r.kt)("p",null,"The name of the field."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"value"},"value"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"value: T\n")),(0,r.kt)("p",null,"The value of the field."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"istouched"},"isTouched"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"isTouched: boolean\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"true")," if the field has been ",(0,r.kt)("em",{parentName:"p"},"touched")," by the user."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"error"},"error"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"error: string | undefined\n")),(0,r.kt)("p",null,"The first error of the field, if any."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"errors"},"errors"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"errors: string[] | undefined\n")),(0,r.kt)("p",null,"The errors of the field, if any."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"isvalid"},"isValid"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"isValid: boolean\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"true")," if the field has no errors."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"isdirty"},"isDirty"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"isDirty: boolean\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"true")," if the field has a different value than the initial value."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"isvalidating"},"isValidating"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"isValidating: boolean\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"true")," if the field validation is running."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"form-1"},"form"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"form: Form\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"useForm#form"},"Form")," instance this field is bound to."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"setvalue"},"setValue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"setValue: (value: T) => void\n")),(0,r.kt)("p",null,"Sets the value of the field."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"settouched"},"setTouched"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"setTouched: (isTouched?: boolean) => void\n")),(0,r.kt)("p",null,"Sets if the field should be considered ",(0,r.kt)("em",{parentName:"p"},"touched"),"."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"seterror"},"setError"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"setError: (error: FieldError) => void\n")),(0,r.kt)("p",null,"Sets the error of the field."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"adderror"},"addError"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"addError: (error: FieldError) => void\n")),(0,r.kt)("p",null,"Adds an error to the field. It will be merged with the current error of the field."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"validate-1"},"validate"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"validate(): Promise<string | string[] | undefined>\n")),(0,r.kt)("p",null,"Performs field validation. It returns a Promise that is resolved with the errors of the field."))}p.isMDXComponent=!0}}]);